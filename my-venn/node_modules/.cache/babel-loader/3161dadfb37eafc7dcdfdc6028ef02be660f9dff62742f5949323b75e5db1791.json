{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilsingh/Desktop/my-venn/src/components/Venn1.js\",\n  _s = $RefreshSig$();\nimport React, { useLayoutEffect, useState, useEffect } from \"react\";\nimport * as venn from \"venn.js\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst fetchData = async () => {\n  const response = await fetch(\"/venn_out_data(1)\"); // Adjust the path to your data file\n  const text = await response.text();\n  return text;\n};\nconst processData = data => {\n  const lines = data.split(\"\\n\").slice(1); // Skip header\n  let commonCount = 0;\n  let uniqueACount = 0;\n  let uniqueBCount = 0;\n  lines.forEach(line => {\n    const [common, uniqueA, uniqueB] = line.split(\"\\t\");\n    if (common && common.trim() !== \"NA\") commonCount++;\n    if (uniqueA && uniqueA.trim() !== \"NA\") uniqueACount++;\n    if (uniqueB && uniqueB.trim() !== \"NA\") uniqueBCount++;\n  });\n  return {\n    commonCount,\n    uniqueACount,\n    uniqueBCount\n  };\n};\nexport default function Venn1() {\n  _s();\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetchData().then(text => {\n      const parsedData = processData(text);\n      setData(parsedData);\n    });\n  }, []);\n  useLayoutEffect(() => {\n    if (data) {\n      const sets = [{\n        sets: [\"A\"],\n        size: data.uniqueACount\n      }, {\n        sets: [\"B\"],\n        size: data.uniqueBCount\n      }, {\n        sets: [\"A\", \"B\"],\n        size: data.commonCount\n      }];\n      const buildVenn = venn.VennDiagram().width(550).height(550);\n      const vennChart = d3.select(\"#venn\").datum(sets).call(buildVenn);\n      vennChart.selectAll(\"path\").style(\"fill-opacity\", \"1\").style(\"mix-blend-mode\", \"none\");\n      d3.select(\"#venn\").selectAll(\"text\").remove();\n      let tooltip = d3.select(\"body\").append(\"div\").attr(\"class\", \"venntooltip\");\n      d3.selectAll(\".venn-area\").on(\"mouseover\", function (d, i) {\n        // sort all the areas relative to the current item\n        venn.sortAreas(vennChart, i);\n        let node = d3.select(this).transition();\n        node.select(\"path\").style(\"fill-opacity\", 0.7).style(\"stroke\", \"red\").style(\"stroke-width\", \"2\");\n      }).on(\"mousemove\", function (event, d) {\n        // Display a tooltip with the current size\n        tooltip.transition().duration(400).style(\"opacity\", \"0.9\");\n        tooltip.text(d.size + \" users\");\n        tooltip.style(\"position\", \"absolute\").style(\"left\", event.pageX + \"px\").style(\"top\", event.pageY - 28 + \"px\");\n      }).on(\"mouseout\", function (d, i) {\n        let node = d3.select(this).transition();\n        tooltip.transition().duration(400).style(\"opacity\", \"0\");\n        d3.select(this).transition(\"tooltip\").duration(400);\n        node.select(\"path\").style(\"fill-opacity\", 1).style(\"stroke-width\", \"0\");\n        node.select(\"text\").style(\"font-weight\", \"100\").style(\"font-size\", \"24px\");\n      });\n    }\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Area Proportional Venn Diagram in React using venn.js and D3.js\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      id: \"venn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Venn1, \"iri0CqIfhu3qVMPule1vQMmOnw4=\");\n_c = Venn1;\nvar _c;\n$RefreshReg$(_c, \"Venn1\");","map":{"version":3,"names":["React","useLayoutEffect","useState","useEffect","venn","d3","jsxDEV","_jsxDEV","Fragment","_Fragment","fetchData","response","fetch","text","processData","data","lines","split","slice","commonCount","uniqueACount","uniqueBCount","forEach","line","common","uniqueA","uniqueB","trim","Venn1","_s","setData","then","parsedData","sets","size","buildVenn","VennDiagram","width","height","vennChart","select","datum","call","selectAll","style","remove","tooltip","append","attr","on","d","i","sortAreas","node","transition","event","duration","pageX","pageY","children","fileName","_jsxFileName","lineNumber","columnNumber","className","id","_c","$RefreshReg$"],"sources":["/Users/nikhilsingh/Desktop/my-venn/src/components/Venn1.js"],"sourcesContent":["import React, { useLayoutEffect, useState, useEffect } from \"react\";\nimport * as venn from \"venn.js\";\nimport * as d3 from \"d3\";\n\nconst fetchData = async () => {\n  const response = await fetch(\"/venn_out_data(1)\"); // Adjust the path to your data file\n  const text = await response.text();\n  return text;\n};\n\nconst processData = (data) => {\n  const lines = data.split(\"\\n\").slice(1); // Skip header\n  let commonCount = 0;\n  let uniqueACount = 0;\n  let uniqueBCount = 0;\n\n  lines.forEach((line) => {\n    const [common, uniqueA, uniqueB] = line.split(\"\\t\");\n    if (common && common.trim() !== \"NA\") commonCount++;\n    if (uniqueA && uniqueA.trim() !== \"NA\") uniqueACount++;\n    if (uniqueB && uniqueB.trim() !== \"NA\") uniqueBCount++;\n  });\n\n  return { commonCount, uniqueACount, uniqueBCount };\n};\n\nexport default function Venn1() {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    fetchData().then((text) => {\n      const parsedData = processData(text);\n      setData(parsedData);\n    });\n  }, []);\n\n  useLayoutEffect(() => {\n    if (data) {\n      const sets = [\n        { sets: [\"A\"], size: data.uniqueACount },\n        { sets: [\"B\"], size: data.uniqueBCount },\n        { sets: [\"A\", \"B\"], size: data.commonCount },\n      ];\n\n      const buildVenn = venn.VennDiagram().width(550).height(550);\n\n      const vennChart = d3.select(\"#venn\").datum(sets).call(buildVenn);\n\n      vennChart\n        .selectAll(\"path\")\n        .style(\"fill-opacity\", \"1\")\n        .style(\"mix-blend-mode\", \"none\");\n\n      d3.select(\"#venn\").selectAll(\"text\").remove();\n\n      let tooltip = d3\n        .select(\"body\")\n        .append(\"div\")\n        .attr(\"class\", \"venntooltip\");\n\n      d3.selectAll(\".venn-area\")\n        .on(\"mouseover\", function (d, i) {\n          // sort all the areas relative to the current item\n          venn.sortAreas(vennChart, i);\n\n          let node = d3.select(this).transition();\n          node\n            .select(\"path\")\n            .style(\"fill-opacity\", 0.7)\n            .style(\"stroke\", \"red\")\n            .style(\"stroke-width\", \"2\");\n        })\n        .on(\"mousemove\", function (event, d) {\n          // Display a tooltip with the current size\n          tooltip.transition().duration(400).style(\"opacity\", \"0.9\");\n          tooltip.text(d.size + \" users\");\n          tooltip\n            .style(\"position\", \"absolute\")\n            .style(\"left\", event.pageX + \"px\")\n            .style(\"top\", event.pageY - 28 + \"px\");\n        })\n        .on(\"mouseout\", function (d, i) {\n          let node = d3.select(this).transition();\n          tooltip.transition().duration(400).style(\"opacity\", \"0\");\n          d3.select(this).transition(\"tooltip\").duration(400);\n          node\n            .select(\"path\")\n            .style(\"fill-opacity\", 1)\n            .style(\"stroke-width\", \"0\");\n          node\n            .select(\"text\")\n            .style(\"font-weight\", \"100\")\n            .style(\"font-size\", \"24px\");\n        });\n    }\n  }, [data]);\n\n  return (\n    <>\n      <h4>Area Proportional Venn Diagram in React using venn.js and D3.js</h4>\n      <div className=\"App\" id=\"venn\"></div>\n    </>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,eAAe,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACnE,OAAO,KAAKC,IAAI,MAAM,SAAS;AAC/B,OAAO,KAAKC,EAAE,MAAM,IAAI;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzB,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC;EACnD,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACE,IAAI,CAAC,CAAC;EAClC,OAAOA,IAAI;AACb,CAAC;AAED,MAAMC,WAAW,GAAIC,IAAI,IAAK;EAC5B,MAAMC,KAAK,GAAGD,IAAI,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;EACzC,IAAIC,WAAW,GAAG,CAAC;EACnB,IAAIC,YAAY,GAAG,CAAC;EACpB,IAAIC,YAAY,GAAG,CAAC;EAEpBL,KAAK,CAACM,OAAO,CAAEC,IAAI,IAAK;IACtB,MAAM,CAACC,MAAM,EAAEC,OAAO,EAAEC,OAAO,CAAC,GAAGH,IAAI,CAACN,KAAK,CAAC,IAAI,CAAC;IACnD,IAAIO,MAAM,IAAIA,MAAM,CAACG,IAAI,CAAC,CAAC,KAAK,IAAI,EAAER,WAAW,EAAE;IACnD,IAAIM,OAAO,IAAIA,OAAO,CAACE,IAAI,CAAC,CAAC,KAAK,IAAI,EAAEP,YAAY,EAAE;IACtD,IAAIM,OAAO,IAAIA,OAAO,CAACC,IAAI,CAAC,CAAC,KAAK,IAAI,EAAEN,YAAY,EAAE;EACxD,CAAC,CAAC;EAEF,OAAO;IAAEF,WAAW;IAAEC,YAAY;IAAEC;EAAa,CAAC;AACpD,CAAC;AAED,eAAe,SAASO,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAC9B,MAAM,CAACd,IAAI,EAAEe,OAAO,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACdO,SAAS,CAAC,CAAC,CAACqB,IAAI,CAAElB,IAAI,IAAK;MACzB,MAAMmB,UAAU,GAAGlB,WAAW,CAACD,IAAI,CAAC;MACpCiB,OAAO,CAACE,UAAU,CAAC;IACrB,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN/B,eAAe,CAAC,MAAM;IACpB,IAAIc,IAAI,EAAE;MACR,MAAMkB,IAAI,GAAG,CACX;QAAEA,IAAI,EAAE,CAAC,GAAG,CAAC;QAAEC,IAAI,EAAEnB,IAAI,CAACK;MAAa,CAAC,EACxC;QAAEa,IAAI,EAAE,CAAC,GAAG,CAAC;QAAEC,IAAI,EAAEnB,IAAI,CAACM;MAAa,CAAC,EACxC;QAAEY,IAAI,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;QAAEC,IAAI,EAAEnB,IAAI,CAACI;MAAY,CAAC,CAC7C;MAED,MAAMgB,SAAS,GAAG/B,IAAI,CAACgC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;MAE3D,MAAMC,SAAS,GAAGlC,EAAE,CAACmC,MAAM,CAAC,OAAO,CAAC,CAACC,KAAK,CAACR,IAAI,CAAC,CAACS,IAAI,CAACP,SAAS,CAAC;MAEhEI,SAAS,CACNI,SAAS,CAAC,MAAM,CAAC,CACjBC,KAAK,CAAC,cAAc,EAAE,GAAG,CAAC,CAC1BA,KAAK,CAAC,gBAAgB,EAAE,MAAM,CAAC;MAElCvC,EAAE,CAACmC,MAAM,CAAC,OAAO,CAAC,CAACG,SAAS,CAAC,MAAM,CAAC,CAACE,MAAM,CAAC,CAAC;MAE7C,IAAIC,OAAO,GAAGzC,EAAE,CACbmC,MAAM,CAAC,MAAM,CAAC,CACdO,MAAM,CAAC,KAAK,CAAC,CACbC,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC;MAE/B3C,EAAE,CAACsC,SAAS,CAAC,YAAY,CAAC,CACvBM,EAAE,CAAC,WAAW,EAAE,UAAUC,CAAC,EAAEC,CAAC,EAAE;QAC/B;QACA/C,IAAI,CAACgD,SAAS,CAACb,SAAS,EAAEY,CAAC,CAAC;QAE5B,IAAIE,IAAI,GAAGhD,EAAE,CAACmC,MAAM,CAAC,IAAI,CAAC,CAACc,UAAU,CAAC,CAAC;QACvCD,IAAI,CACDb,MAAM,CAAC,MAAM,CAAC,CACdI,KAAK,CAAC,cAAc,EAAE,GAAG,CAAC,CAC1BA,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CACtBA,KAAK,CAAC,cAAc,EAAE,GAAG,CAAC;MAC/B,CAAC,CAAC,CACDK,EAAE,CAAC,WAAW,EAAE,UAAUM,KAAK,EAAEL,CAAC,EAAE;QACnC;QACAJ,OAAO,CAACQ,UAAU,CAAC,CAAC,CAACE,QAAQ,CAAC,GAAG,CAAC,CAACZ,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC;QAC1DE,OAAO,CAACjC,IAAI,CAACqC,CAAC,CAAChB,IAAI,GAAG,QAAQ,CAAC;QAC/BY,OAAO,CACJF,KAAK,CAAC,UAAU,EAAE,UAAU,CAAC,CAC7BA,KAAK,CAAC,MAAM,EAAEW,KAAK,CAACE,KAAK,GAAG,IAAI,CAAC,CACjCb,KAAK,CAAC,KAAK,EAAEW,KAAK,CAACG,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC;MAC1C,CAAC,CAAC,CACDT,EAAE,CAAC,UAAU,EAAE,UAAUC,CAAC,EAAEC,CAAC,EAAE;QAC9B,IAAIE,IAAI,GAAGhD,EAAE,CAACmC,MAAM,CAAC,IAAI,CAAC,CAACc,UAAU,CAAC,CAAC;QACvCR,OAAO,CAACQ,UAAU,CAAC,CAAC,CAACE,QAAQ,CAAC,GAAG,CAAC,CAACZ,KAAK,CAAC,SAAS,EAAE,GAAG,CAAC;QACxDvC,EAAE,CAACmC,MAAM,CAAC,IAAI,CAAC,CAACc,UAAU,CAAC,SAAS,CAAC,CAACE,QAAQ,CAAC,GAAG,CAAC;QACnDH,IAAI,CACDb,MAAM,CAAC,MAAM,CAAC,CACdI,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC,CACxBA,KAAK,CAAC,cAAc,EAAE,GAAG,CAAC;QAC7BS,IAAI,CACDb,MAAM,CAAC,MAAM,CAAC,CACdI,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,CAC3BA,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC;MAC/B,CAAC,CAAC;IACN;EACF,CAAC,EAAE,CAAC7B,IAAI,CAAC,CAAC;EAEV,oBACER,OAAA,CAAAE,SAAA;IAAAkD,QAAA,gBACEpD,OAAA;MAAAoD,QAAA,EAAI;IAA+D;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxExD,OAAA;MAAKyD,SAAS,EAAC,KAAK;MAACC,EAAE,EAAC;IAAM;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA,eACrC,CAAC;AAEP;AAAClC,EAAA,CA7EuBD,KAAK;AAAAsC,EAAA,GAALtC,KAAK;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}